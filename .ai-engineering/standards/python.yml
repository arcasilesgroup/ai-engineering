# Python-specific standards for ai-engineering
# Primary language standards (Product Principle #4)

language: python
version: ">=3.9"

# Linting (ruff)
linting:
  tool: ruff
  config_file: pyproject.toml
  rules:
    enabled:
      - E     # pycodestyle errors
      - F     # pyflakes
      - I     # isort
      - N     # pep8-naming
      - UP    # pyupgrade
      - ANN   # flake8-annotations
      - S     # flake8-bandit (security)
      - B     # flake8-bugbear
      - C4    # flake8-comprehensions
      - DTZ   # flake8-datetimez
      - T10   # flake8-debugger
      - EM    # flake8-errmsg
      - ISC   # flake8-implicit-str-concat
      - ICN   # flake8-import-conventions
      - PIE   # flake8-pie
      - PT    # flake8-pytest-style
      - Q     # flake8-quotes
      - RSE   # flake8-raise
      - RET   # flake8-return
      - SIM   # flake8-simplify
      - TID   # flake8-tidy-imports
      - ARG   # flake8-unused-arguments
      - PTH   # flake8-use-pathlib
      - ERA   # eradicate
      - PL    # pylint
      - TRY   # tryceratops
      - RUF   # ruff-specific rules

  line_length: 100
  target_version: py39

# Formatting (ruff format)
formatting:
  tool: ruff
  quote_style: double
  indent_width: 4
  line_length: 100

# Type checking (mypy)
type_checking:
  tool: mypy
  config_file: pyproject.toml
  strict: true
  options:
    - warn_return_any
    - warn_unused_configs
    - disallow_untyped_defs
    - disallow_any_generics
    - check_untyped_defs

# Testing (pytest)
testing:
  framework: pytest
  coverage_minimum: 80
  coverage_critical_paths: 90  # gates, standards resolution
  structure:
    unit: tests/unit
    integration: tests/integration
    e2e: tests/e2e

# Import conventions
imports:
  order:
    - standard_library
    - third_party
    - first_party
    - local_folder
  style: absolute  # Prefer absolute imports

# Naming conventions
naming:
  classes: PascalCase
  functions: snake_case
  variables: snake_case
  constants: UPPER_SNAKE_CASE
  private: _leading_underscore
  modules: snake_case

# Docstrings
docstrings:
  style: google  # Google-style docstrings
  required_for:
    - public_functions
    - public_classes
    - public_methods
  not_required_for:
    - private_functions
    - test_functions
    - __init__ (if trivial)

# Dependencies
dependencies:
  manager: poetry
  lock_file: poetry.lock  # Committed (application, not library)
  groups:
    main:
      - typer
      - pyyaml
      - pydantic
    dev:
      - pytest
      - pytest-cov
      - ruff
      - mypy
      - types-pyyaml
